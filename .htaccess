# Apache (.htaccess) for CodeIgniter 3 pretty URLs (remove index.php) in subfolder: /blog-portal

# Make sure mod_rewrite is enabled in Apache and AllowOverride All is set for this directory.

Options -Indexes
DirectoryIndex index.php

<IfModule mod_rewrite.c>
  RewriteEngine On

  # IMPORTANT: This app lives in /blog-portal under the document root
  RewriteBase /blog-portal/

  # Force remove index.php from requested URL (SEO-friendly redirect)
  RewriteCond %{THE_REQUEST} \s/+index\.php[?/]\s [NC]
  RewriteRule ^index\.php/?(.*)$ $1 [R=301,NE,L]

  # Skip existing files/directories
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # Route everything else to index.php
  RewriteRule ^(.*)$ index.php/$1 [L]
</IfModule>

# Fallback if mod_rewrite is not available (no rewrite = no pretty URLs)
<IfModule !mod_rewrite.c>
  ErrorDocument 404 index.php
</IfModule>
